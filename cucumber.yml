<% common = "-f pretty" %>
productionrerun: <%= common %> features.txt CONFIG=live
stagingrerun: <%= common %> features.txt CONFIG=staging
amtestrerun: <%= common %> features.txt CONFIG=am-test

<% common = "--format rerun --out features.txt -f pretty" %>
wip: <%= common %> -t @wip
complete: <%= common %> -t @complete -t ~@not_implemented
failing: <%= common %> -t @failing
slow: <%= common %> -t @slow
complete_no_failing: <%= common %> -t @complete -t ~@failing
custom: <%= common %> <%= ENV["TAGS"] %>
specific: <%= common %> --tags <%= ENV['TAGS'] %>

<% common = "--format rerun --out features.txt -f pretty" %>
productionwip: <%= common %> -t @wip -t @production CONFIG=live
productioncomplete: <%= common %>  -t @complete -t ~@failing -t ~@slow -t @production CONFIG=live
productionfailing: <%= common %> -t @complete -t @failing -t @production CONFIG=live
productionslow: <%= common %> -t @complete -t @slow -t @production CONFIG=live
stagingwip: <%= common %> -t @wip -t @staging CONFIG=staging
stagingcomplete: <%= common %> -t @complete -t ~@slow -t ~@not_implemented -t @staging -t ~@failing CONFIG=staging
stagingfailing: <%= common %> -t @complete -t @failing -t @staging CONFIG=staging
stagingslow: <%= common %> -t @complete -t @slow -t @staging CONFIG=live
amtestwip: <%= common %> -t @wip -t @amtest CONFIG=am-test
amtestcomplete: <%= common %> -t @complete -t ~@slow -t ~@not_implemented -t ~@failing -t @amtest CONFIG=am-test
amtestfailing: <%= common %> -t @complete -t @failing -t @amtest CONFIG=am-test
amtestslow: <%= common %> -t @complete -t @slow -t @amtest CONFIG=live

# Product Group Specific
# Production
<% common = "--format rerun --out features.txt -f pretty -t @complete -t ~@not_implemented -t ~@failing -t ~@slow" %>
pm: <%= common %> -t @messenger -t @production CONFIG=live
pam: <%= common %> -t @account_management -t @production CONFIG=live
pa: <%= common %> -t @analytics -t @production CONFIG=live
ppm: <%= common %> -t @page_manager -t @production CONFIG=live
pg: <%= common %> -t @gallery -t @production CONFIG=live

# Product Group Specific
# Staging
sm: <%= common %> -t @messenger -t @staging CONFIG=staging
sam: <%= common %> -t @account_management -t @staging CONFIG=staging
sa: <%= common %> -t @analytics -t @staging CONFIG=staging
spm: <%= common %> -t @page_manager -t @staging CONFIG=staging
sg: <%= common %> -t @gallery -t @staging CONFIG=staging

# Product Group Specific
# AM-Test
am: <%= common %> -t @messenger -t @amtest CONFIG=am-test
aam: <%= common %> -t @account_management -t @amtest CONFIG=am-test
aa: <%= common %> -t @analytics -t @amtest CONFIG=am-test
apm: <%= common %> -t @page_manager -t @amtest CONFIG=am-test
ag: <%= common %> -t @gallery -t @amtest CONFIG=am-test

#Jenkins
<% junit = "--format junit --out reports/features/" %>
<% cucumber = "--format json --o reports/json/cucumber.json" %>
<% common = "--format rerun --out features.txt -f pretty -t @complete -t ~@not_implemented -t ~@failing -t ~@no-run -t ~@no-ci" %>
jenkinsproduction: <%= common %> -t @production CONFIG=live <%= junit %> <%= cucumber %>
jenkinsstaging: <%= common %> -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jenkinsamtest: <%= common %> -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>

#Slow Tests
<% common = "--format rerun --out features.txt -f pretty -t @complete -t @slow -t ~@not_implemented -t ~@failing -t ~@no-run -t ~@no-ci" %>
jenkinsproductionslow: <%= common %> -t @production CONFIG=live <%= junit %> <%= cucumber %>
jenkinsstagingslow: <%= common %> -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jenkinsamtestslow: <%= common %> -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>

# Production
<% common = "--format rerun --out features.txt -f pretty -t @complete -t ~@not_implemented -t ~@failing -t ~@no-run -t ~@slow -t ~@no-ci" %>
jpm: <%= common %> -t @messenger -t @production CONFIG=live <%= junit %> <%= cucumber %>
jpam: <%= common %> -t @account_management -t @production CONFIG=live <%= junit %> <%= cucumber %>
jpa: <%= common %> -t @analytics -t @production CONFIG=live <%= junit %> <%= cucumber %>
jppm: <%= common %> -t @page_manager -t @production CONFIG=live <%= junit %> <%= cucumber %>
jpg: <%= common %> -t @gallery -t @production CONFIG=live <%= junit %> <%= cucumber %>

# Product Group Specific
# Staging
jsm: <%= common %> -t @messenger -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jsam: <%= common %> -t @account_management -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jsa: <%= common %> -t @analytics -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jspm: <%= common %> -t @page_manager -t @staging CONFIG=staging <%= junit %> <%= cucumber %>
jsg: <%= common %> -t @gallery -t @staging CONFIG=staging <%= junit %> <%= cucumber %>

# Product Group Specific
# AM-Test
jam: <%= common %> -t @messenger -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>
jaam: <%= common %> -t @account_management -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>
jaa: <%= common %> -t @analytics -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>
japm: <%= common %> -t @page_manager -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>
jag: <%= common %> -t @gallery -t @amtest CONFIG=am-test <%= junit %> <%= cucumber %>
