<% common = "-f pretty" %>
productionrerun: <%= common %> features.txt CONFIG=live
stagingrerun: <%= common %> features.txt CONFIG=staging
amtestrerun: <%= common %> features.txt CONFIG=am-test

<% common = "--format rerun --out features.txt -f pretty" %>
wip: <%= common %> -t @wip
complete: <%= common %> -t @complete -t ~@not_implemented
failing: <%= common %> -t @failing
complete_no_failing: <%= common %> -t @complete -t ~@failing
custom: <%= common %> <%= ENV["TAGS"] %>
specific: <%= common %> --tags <%= ENV['TAGS'] %>

<% common = "--format rerun --out features.txt -f pretty" %>
productionwip: <%= common %> -t @wip -t @production CONFIG=live
productioncomplete: <%= common %>  -t @complete -t ~@failing -t @production CONFIG=live
productionfailing: <%= common %> -t @complete -t @failing -t @production CONFIG=live
stagingwip: <%= common %> -t @wip -t @staging CONFIG=staging
stagingcomplete: <%= common %> -t @complete -t ~@not_implemented -t @staging -t ~@failing CONFIG=staging
stagingfailing: <%= common %> -t @complete -t @failing -t @staging CONFIG=staging
amtestwip: <%= common %> -t @wip -t @amtest CONFIG=am-test
amtestcomplete: <%= common %> -t @complete -t ~@not_implemented -t ~@failing -t @amtest CONFIG=am-test
amtestfailing: <%= common %> -t @complete -t @failing -t @amtest CONFIG=am-test

# Product Group Specific
# Production
<% common = "--format rerun --out features.txt -f pretty -t @complete -t @production -t ~@not_implemented -t ~@failing" %>
pm: <%= common %> -t @messenger CONFIG=live
pam: <%= common %> -t @account_management CONFIG=live
pa: <%= common %> -t @analytics CONFIG=live
pma: <%= common %> -t @messenger_admin CONFIG=live
ppm: <%= common %> -t @page_manager CONFIG=live
pg: <%= common %> -t @gallery CONFIG=live

# Product Group Specific
# Staging
sm: <%= common %> -t @messenger CONFIG=staging
sam: <%= common %> -t @account_management CONFIG=staging
sa: <%= common %> -t @analytics CONFIG=staging
sma: <%= common %> -t @messenger_admin CONFIG=staging
spm: <%= common %> -t @page_manager CONFIG=staging
sg: <%= common %> -t @gallery CONFIG=staging

# Product Group Specific
# AM-Test
am: <%= common %> -t @messenger CONFIG=am-test
aam: <%= common %> -t @account_management CONFIG=am-test
aa: <%= common %> -t @analytics CONFIG=am-test
ama: <%= common %> -t @messenger_admin CONFIG=am-test
apm: <%= common %> -t @page_manager CONFIG=am-test
ag: <%= common %> -t @gallery CONFIG=am-test

#Jenkins
<% junit-report = "--format junit --out reports/features/" %>
<% cucumber-report = "--format json --o reports/json/cucumber.json" %>
<% common = "--format rerun --out features.txt -f pretty -t @complete -t ~@not_implemented -t ~@failing" %>
jenkinsproduction: <%= common %> -t @production CONFIG=live <%= junit-report %> <%= cucumber-report %>
jenkinsstaging: <%= common %> -t @staging CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jenkinsamtest: <%= common %> -t @amtest CONFIG=am-test <%= junit-report %> <%= cucumber-report %>

# Production
<% common = "--format rerun --out features.txt -f pretty -t @complete -t @production -t ~@not_implemented -t ~@failing" %>
jpm: <%= common %> -t @messenger CONFIG=live <%= junit-report %> <%= cucumber-report %>
jpam: <%= common %> -t @account_management CONFIG=live <%= junit-report %> <%= cucumber-report %>
jpa: <%= common %> -t @analytics CONFIG=live <%= junit-report %> <%= cucumber-report %>
jpma: <%= common %> -t @messenger_admin CONFIG=live <%= junit-report %> <%= cucumber-report %>
jppm: <%= common %> -t @page_manager CONFIG=live <%= junit-report %> <%= cucumber-report %>
jpg: <%= common %> -t @gallery CONFIG=live <%= junit-report %> <%= cucumber-report %>

# Product Group Specific
# Staging
jsm: <%= common %> -t @messenger CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jsam: <%= common %> -t @account_management CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jsa: <%= common %> -t @analytics CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jsma: <%= common %> -t @messenger_admin CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jspm: <%= common %> -t @page_manager CONFIG=staging <%= junit-report %> <%= cucumber-report %>
jsg: <%= common %> -t @gallery CONFIG=staging <%= junit-report %> <%= cucumber-report %>

# Product Group Specific
# AM-Test
jam: <%= common %> -t @messenger CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
jaam: <%= common %> -t @account_management CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
jaa: <%= common %> -t @analytics CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
jama: <%= common %> -t @messenger_admin CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
japm: <%= common %> -t @page_manager CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
jag: <%= common %> -t @gallery CONFIG=am-test <%= junit-report %> <%= cucumber-report %>

cpt: <%= common %> -t @analytics CONFIG=am-test <%= junit-report %> <%= cucumber-report %>
